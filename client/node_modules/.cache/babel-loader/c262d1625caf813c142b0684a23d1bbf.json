{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gpsha\\\\Downloads\\\\vaccine-dapp-main\\\\vaccine-dapp-main\\\\client\\\\src\\\\Screens\\\\TrackContainer\\\\index.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport useEth from \"../../contexts/EthContext/useEth\";\nimport { ButtonComp, RootContainer, SelectComp } from '../../components/Shared';\nimport HorizontalStepperWithError from '../../components/VaccPipeline';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst TrackContainer = () => {\n  _s();\n  const {\n    state: {\n      accounts,\n      contract,\n      vaccines\n    }\n  } = useEth();\n  const [selectedVaccine, setSelectedVaccine] = useState(0);\n  const [step, setStep] = useState(0);\n  const [show, setShow] = useState(false);\n  const [loader, showloader] = useState(false);\n  useEffect(() => {\n    if (show) trackContainer();\n  }, [show, selectedVaccine, step]);\n  const handleSelect = val => {\n    setSelectedVaccine(val);\n  };\n  const trackContainer = async () => {\n    console.log(selectedVaccine);\n    try {\n      var _contract$methods, _contract$methods$vac;\n      const _vacc = await (contract === null || contract === void 0 ? void 0 : (_contract$methods = contract.methods) === null || _contract$methods === void 0 ? void 0 : (_contract$methods$vac = _contract$methods.vaccine(selectedVaccine)) === null || _contract$methods$vac === void 0 ? void 0 : _contract$methods$vac.call({\n        from: accounts[0]\n      }));\n      setStep(parseInt(_vacc.state));\n    } catch (err) {\n      console.log(err);\n    } finally {\n      showloader(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [\" \", /*#__PURE__*/_jsxDEV(RootContainer, {\n      heading: \"Track Containers\",\n      selectedVaccine: selectedVaccine,\n      address: accounts && accounts[0],\n      children: [/*#__PURE__*/_jsxDEV(SelectComp, {\n        vaccines: vaccines,\n        selectedVaccine: selectedVaccine,\n        handleSelect: handleSelect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 12\n      }, this), /*#__PURE__*/_jsxDEV(ButtonComp, {\n        disabled: loader,\n        loader: loader,\n        text: \"Show Track\",\n        onClick: () => setShow(!show)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 12\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }, this), show && /*#__PURE__*/_jsxDEV(HorizontalStepperWithError, {\n      step: step\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true);\n};\n_s(TrackContainer, \"uCS3O4Ft0Rygb9P4nXis8HqVxb8=\", false, function () {\n  return [useEth];\n});\n_c = TrackContainer;\nexport default TrackContainer;\nvar _c;\n$RefreshReg$(_c, \"TrackContainer\");","map":{"version":3,"names":["useState","useEffect","useEth","ButtonComp","RootContainer","SelectComp","HorizontalStepperWithError","jsxDEV","_jsxDEV","Fragment","_Fragment","TrackContainer","_s","state","accounts","contract","vaccines","selectedVaccine","setSelectedVaccine","step","setStep","show","setShow","loader","showloader","trackContainer","handleSelect","val","console","log","_contract$methods","_contract$methods$vac","_vacc","methods","vaccine","call","from","parseInt","err","children","heading","address","fileName","_jsxFileName","lineNumber","columnNumber","disabled","text","onClick","_c","$RefreshReg$"],"sources":["C:/Users/gpsha/Downloads/vaccine-dapp-main/vaccine-dapp-main/client/src/Screens/TrackContainer/index.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport useEth from \"../../contexts/EthContext/useEth\";\nimport {ButtonComp,RootContainer,SelectComp} from '../../components/Shared';\nimport HorizontalStepperWithError from '../../components/VaccPipeline';\nconst TrackContainer=()=>{\n    const { state: { accounts,contract,vaccines} } = useEth();\n    const [selectedVaccine,setSelectedVaccine]=useState(0); \n  const [step,setStep]=useState(0);\n  const [show,setShow]=useState(false);\n  const [loader,showloader]=useState(false);\n\n  useEffect(()=>{\n    if(show)\n     trackContainer()\n   },[show,selectedVaccine,step])\n    const handleSelect=(val)=>{\n      setSelectedVaccine(val)\n  }\n\n  const trackContainer=async()=>{\n    console.log(selectedVaccine)\n    try{\n  const _vacc=await contract?.methods?.vaccine(selectedVaccine)?.call({from:accounts[0]})\n  setStep(parseInt(_vacc.state))\n    }\n    catch(err){\n      console.log(err)\n    }\n    finally{\n      showloader(false)\n    }\n}\n \n    \nreturn <> <RootContainer heading={\"Track Containers\"} selectedVaccine={selectedVaccine} address={accounts && accounts[0]}> \n           <SelectComp vaccines={vaccines} selectedVaccine={selectedVaccine} handleSelect={handleSelect} />\n           <ButtonComp disabled={loader} loader={loader}  text={\"Show Track\"} onClick={()=>setShow(!show)}/> \n          \n       </RootContainer>\n       {show && <HorizontalStepperWithError step={step} />}\n       </>\n  \n}\nexport default TrackContainer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}